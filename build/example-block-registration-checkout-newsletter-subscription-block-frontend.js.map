{"version":3,"file":"example-block-registration-checkout-newsletter-subscription-block-frontend.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACyD;AACM;AACZ;AACM;AAEzD,MAAM;EAAEM;AAAiB,CAAC,GAAGH,iEAAU,CAAC,iCAAiC,EAAE,EAAE,CAAC;AAE9E,MAAMI,KAAK,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAsB,CAAC,KAAK;EACtD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,4DAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM;IAAEW;EAAiB,CAAC,GAAGH,qBAAqB;EAElD,MAAM;IAAEI,mBAAmB;IAAEC;EAAqB,CAAC,GAAGT,4DAAW,CAChE,qBACD,CAAC;EAEDL,6DAAS,CAAC,MAAM;IACfY,gBAAgB,CAAC,4BAA4B,EAAE,OAAO,EAAEF,OAAO,CAAC;IAChE,IAAI,CAACA,OAAO,EAAE;MACbG,mBAAmB,CAAC;QACnB,4BAA4B,EAAE;UAC7BE,OAAO,EAAE,qBAAqB;UAC9BC,MAAM,EAAE;QACT;MACD,CAAC,CAAC;MACF;IACD;IACAF,oBAAoB,CAAC,4BAA4B,CAAC;EACnD,CAAC,EAAE,CAACA,oBAAoB,EAAED,mBAAmB,EAAEH,OAAO,EAAEE,gBAAgB,CAAC,CAAC;EAE1E,MAAM;IAAEK;EAAgB,CAAC,GAAGb,0DAAS,CAAEc,MAAM,IAAK;IACjD,MAAMC,KAAK,GAAGD,MAAM,CAAC,qBAAqB,CAAC;IAC3C,OAAO;MACND,eAAe,EAAEE,KAAK,CAACC,kBAAkB,CACxC,4BACD;IACD,CAAC;EACF,CAAC,CAAC;EAEF,OACCC,iEAAA,CAAAC,wDAAA,QACCD,iEAAA,CAACnB,yEAAe;IACfqB,EAAE,EAAC,yBAAyB;IAC5Bb,OAAO,EAAEA,OAAQ;IACjBc,QAAQ,EAAEb;EAAW,GAEpBH,QAAQ,IAAIF,gBACG,CAAC,EAEjBW,eAAe,EAAED,MAAM,KAAK,KAAK,IACjCK,iEAAA,cACCA,iEAAA;IAAMI,IAAI,EAAC,KAAK;IAAC,cAAW;EAAe,GAAC,cAEtC,CAAC,EACNR,eAAe,EAAEF,OACd,CAEL,CAAC;AAEL,CAAC;AAED,iEAAeR,KAAK;;;;;;;;;;AC/DpB;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACqE;AACrE;AACA;AACA;AAC4B;AACQ;AAEpCmB,mFAAqB,CAAC;EACrBC,QAAQ;EACRC,SAAS,EAAErB,8CAAKA;AACjB,CAAC,CAAC,C","sources":["webpack://example-block-registration/./src/js/checkout-newsletter-subscription-block/block.js","webpack://example-block-registration/external window [\"wc\",\"blocksCheckout\"]","webpack://example-block-registration/external window [\"wc\",\"wcSettings\"]","webpack://example-block-registration/external window [\"wp\",\"data\"]","webpack://example-block-registration/external window [\"wp\",\"element\"]","webpack://example-block-registration/webpack/bootstrap","webpack://example-block-registration/webpack/runtime/compat get default export","webpack://example-block-registration/webpack/runtime/define property getters","webpack://example-block-registration/webpack/runtime/hasOwnProperty shorthand","webpack://example-block-registration/webpack/runtime/make namespace object","webpack://example-block-registration/./src/js/checkout-newsletter-subscription-block/frontend.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { CheckboxControl } from '@woocommerce/blocks-checkout';\nimport { getSetting } from '@woocommerce/settings';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\nconst { optInDefaultText } = getSetting('example-block-registration_data', '');\n\nconst Block = ({ children, checkoutExtensionData }) => {\n\tconst [checked, setChecked] = useState(false);\n\tconst { setExtensionData } = checkoutExtensionData;\n\n\tconst { setValidationErrors, clearValidationError } = useDispatch(\n\t\t'wc/store/validation'\n\t);\n\n\tuseEffect(() => {\n\t\tsetExtensionData('example-block-registration', 'optin', checked);\n\t\tif (!checked) {\n\t\t\tsetValidationErrors({\n\t\t\t\t'example-block-registration': {\n\t\t\t\t\tmessage: 'Please tick the box',\n\t\t\t\t\thidden: false,\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tclearValidationError('example-block-registration');\n\t}, [clearValidationError, setValidationErrors, checked, setExtensionData]);\n\n\tconst { validationError } = useSelect((select) => {\n\t\tconst store = select('wc/store/validation');\n\t\treturn {\n\t\t\tvalidationError: store.getValidationError(\n\t\t\t\t'example-block-registration'\n\t\t\t),\n\t\t};\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<CheckboxControl\n\t\t\t\tid=\"subscribe-to-newsletter\"\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={setChecked}\n\t\t\t>\n\t\t\t\t{children || optInDefaultText}\n\t\t\t</CheckboxControl>\n\n\t\t\t{validationError?.hidden === false && (\n\t\t\t\t<div>\n\t\t\t\t\t<span role=\"img\" aria-label=\"Warning emoji\">\n\t\t\t\t\t\t⚠️\n\t\t\t\t\t</span>\n\t\t\t\t\t{validationError?.message}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Block;","module.exports = window[\"wc\"][\"blocksCheckout\"];","module.exports = window[\"wc\"][\"wcSettings\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport { registerCheckoutBlock } from '@woocommerce/blocks-checkout';\n/**\n * Internal dependencies\n */\nimport Block from './block';\nimport metadata from './block.json';\n\nregisterCheckoutBlock({\n\tmetadata,\n\tcomponent: Block,\n});\n"],"names":["useEffect","useState","CheckboxControl","getSetting","useSelect","useDispatch","optInDefaultText","Block","children","checkoutExtensionData","checked","setChecked","setExtensionData","setValidationErrors","clearValidationError","message","hidden","validationError","select","store","getValidationError","createElement","Fragment","id","onChange","role","registerCheckoutBlock","metadata","component"],"sourceRoot":""}